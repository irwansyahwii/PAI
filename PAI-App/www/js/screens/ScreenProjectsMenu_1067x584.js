// Generated by CoffeeScript 1.9.2
(function() {
  var ClickEffect, ScreenBase, ScreenProjectsMenu_1067x584,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  ScreenBase = require("./ScreenBase_1067x584");

  ClickEffect = require("./ClickEffect");

  ScreenProjectsMenu_1067x584 = (function(superClass) {
    extend(ScreenProjectsMenu_1067x584, superClass);

    function ScreenProjectsMenu_1067x584(options) {
      this.play = bind(this.play, this);
      this.hideAllLayers = bind(this.hideAllLayers, this);
      this.onButtonMasterplanProjectsClick = bind(this.onButtonMasterplanProjectsClick, this);
      this.onButtonOfficeBuildingClick = bind(this.onButtonOfficeBuildingClick, this);
      this.onButtonResortsClick = bind(this.onButtonResortsClick, this);
      this.onButtonResidentialClick = bind(this.onButtonResidentialClick, this);
      this.init = bind(this.init, this);
      ScreenProjectsMenu_1067x584.__super__.constructor.apply(this, arguments);
      this.parent_screen = options.parent_screen || {};
      this.afterBackButtonClicked = null;
      if (this.parent_screen) {
        this.mainLayer.superLayer = this.parent_screen.mainLayer;
        this.mainLayer.placeBehind(this.parent_screen.topBarLayer);
      }
      this.mainLayer.backgroundColor = 'white';
      this.buttonMasterplanProjects = new Layer({
        image: 'images/ProjectsMenu-Masterplan.png',
        width: 1070,
        height: 129,
        x: 0,
        y: this.parent_screen.topBarLayer.height
      });
      this.buttonMasterplanProjects.superLayer = this.mainLayer;
      this.buttonOfficeBuilding = new Layer({
        image: 'images/ProjectsMenu-Office.png',
        width: 1070,
        height: 129,
        x: 0,
        y: this.parent_screen.topBarLayer.height + 129
      });
      this.buttonOfficeBuilding.superLayer = this.mainLayer;
      this.buttonResorts = new Layer({
        image: 'images/ProjectsMenu-Resort.png',
        width: 1070,
        height: 129,
        x: 0,
        y: this.parent_screen.topBarLayer.height + 129 * 2
      });
      this.buttonResorts.superLayer = this.mainLayer;
      this.buttonResidential = new Layer({
        image: 'images/ProjectsMenu-Residential.png',
        width: 1070,
        height: 129,
        x: 0,
        y: this.parent_screen.topBarLayer.height + 129 * 3
      });
      this.buttonResidential.superLayer = this.mainLayer;
    }

    ScreenProjectsMenu_1067x584.prototype.init = function() {
      ScreenProjectsMenu_1067x584.__super__.init.apply(this, arguments);
      this.buttonMasterplanProjects.states.add({
        bottom_hidden: {
          y: this.mainLayer.height + this.buttonMasterplanProjects.height + 5
        },
        on_screen: {
          y: this.parent_screen.topBarLayer.height - 2
        }
      });
      this.buttonOfficeBuilding.states.add({
        bottom_hidden: {
          y: this.mainLayer.height + this.buttonOfficeBuilding.height + 5
        },
        on_screen: {
          y: this.parent_screen.topBarLayer.height + this.buttonOfficeBuilding.height - 2
        }
      });
      this.buttonResorts.states.add({
        bottom_hidden: {
          y: this.mainLayer.height + this.buttonResorts.height + 5
        },
        on_screen: {
          y: this.parent_screen.topBarLayer.height + this.buttonOfficeBuilding.height * 2 - 2
        }
      });
      this.buttonResidential.states.add({
        bottom_hidden: {
          y: this.mainLayer.height + this.buttonResidential.height + 5
        },
        on_screen: {
          y: this.parent_screen.topBarLayer.height + this.buttonOfficeBuilding.height * 3 - 2
        }
      });
      this.buttonMasterplanProjects.states.switchInstant("bottom_hidden");
      this.buttonOfficeBuilding.states.switchInstant("bottom_hidden");
      this.buttonResorts.states.switchInstant("bottom_hidden");
      this.buttonResidential.states.switchInstant("bottom_hidden");
      this.buttonOfficeBuilding.states.animationOptions = {
        time: 0.5
      };
      this.buttonMasterplanProjects.states.animationOptions = {
        time: 0.5
      };
      this.buttonResorts.states.animationOptions = {
        time: 0.5
      };
      this.buttonResidential.states.animationOptions = {
        time: 0.5
      };
      ClickEffect.addTo(this.buttonMasterplanProjects);
      ClickEffect.addTo(this.buttonOfficeBuilding);
      ClickEffect.addTo(this.buttonResorts);
      ClickEffect.addTo(this.buttonResidential);
      this.buttonMasterplanProjects.on(Events.Click, this.onButtonMasterplanProjectsClick);
      this.buttonOfficeBuilding.on(Events.Click, this.onButtonOfficeBuildingClick);
      this.buttonResorts.on(Events.Click, this.onButtonResortsClick);
      return this.buttonResidential.on(Events.Click, this.onButtonResidentialClick);
    };

    ScreenProjectsMenu_1067x584.prototype.onButtonResidentialClick = function() {
      this.hideAllLayers();
      if (this.delegate) {
        return this.delegate.afterButtonResidentialClicked();
      }
    };

    ScreenProjectsMenu_1067x584.prototype.onButtonResortsClick = function() {
      this.hideAllLayers();
      if (this.delegate) {
        return this.delegate.afterButtonResortsClicked();
      }
    };

    ScreenProjectsMenu_1067x584.prototype.onButtonOfficeBuildingClick = function() {
      this.hideAllLayers();
      if (this.delegate) {
        return this.delegate.afterButtonOfficeBuildingClicked();
      }
    };

    ScreenProjectsMenu_1067x584.prototype.onButtonMasterplanProjectsClick = function() {
      this.hideAllLayers();
      if (this.delegate) {
        return this.delegate.afterButtonMasterPlanProjectsClicked();
      }
    };

    ScreenProjectsMenu_1067x584.prototype.hideAllLayers = function() {
      Utils.delay(0.3, (function(_this) {
        return function() {
          return _this.buttonMasterplanProjects.states["switch"]("bottom_hidden");
        };
      })(this));
      Utils.delay(0.2, (function(_this) {
        return function() {
          return _this.buttonOfficeBuilding.states["switch"]("bottom_hidden");
        };
      })(this));
      Utils.delay(0.1, (function(_this) {
        return function() {
          return _this.buttonResorts.states["switch"]("bottom_hidden");
        };
      })(this));
      return this.buttonResidential.states["switch"]("bottom_hidden");
    };

    ScreenProjectsMenu_1067x584.prototype.play = function() {
      this.show();
      this.buttonMasterplanProjects.states["switch"]("on_screen");
      Utils.delay(0.1, (function(_this) {
        return function() {
          return _this.buttonOfficeBuilding.states["switch"]("on_screen");
        };
      })(this));
      Utils.delay(0.2, (function(_this) {
        return function() {
          return _this.buttonResorts.states["switch"]("on_screen");
        };
      })(this));
      return Utils.delay(0.3, (function(_this) {
        return function() {
          return _this.buttonResidential.states["switch"]("on_screen");
        };
      })(this));
    };

    return ScreenProjectsMenu_1067x584;

  })(ScreenBase);

  module.exports = ScreenProjectsMenu_1067x584;

}).call(this);
