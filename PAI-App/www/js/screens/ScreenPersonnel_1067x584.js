// Generated by CoffeeScript 1.9.2
(function() {
  var ClickEffect, ScreenBase, ScreenPersonnel_1067x584,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  ScreenBase = require("./ScreenBase_1067x584");

  ClickEffect = require("./ClickEffect");

  ScreenPersonnel_1067x584 = (function(superClass) {
    extend(ScreenPersonnel_1067x584, superClass);

    function ScreenPersonnel_1067x584(options) {
      this.hideAllLayers = bind(this.hideAllLayers, this);
      this.play = bind(this.play, this);
      this.onLannyLayerClicked = bind(this.onLannyLayerClicked, this);
      this.onThomasLayerClicked = bind(this.onThomasLayerClicked, this);
      this.init = bind(this.init, this);
      ScreenPersonnel_1067x584.__super__.constructor.apply(this, arguments);
      this.parent_screen = options.parent_screen || {};
      this.afterBackButtonClicked = null;
      if (this.parent_screen) {
        this.mainLayer.superLayer = this.parent_screen.mainLayer;
        this.mainLayer.placeBehind(this.parent_screen.topBarLayer);
      }
      this.mainLayer.backgroundColor = 'white';
      this.headerLayer = new Layer({
        image: 'images/PersonnelMenu-Header.png',
        x: 0,
        y: this.parent_screen.topBarLayer.height - 1,
        width: this.width + 1,
        height: 40
      });
      this.headerLayer.superLayer = this.mainLayer;
      this.headerLayer.centerX();
      this.backButtonLayer = new Layer({
        image: 'images/ProfileMenu-Back.png',
        x: 19,
        y: 7,
        width: 45,
        height: 20
      });
      this.backButtonLayer.superLayer = this.headerLayer;
      this.backgroundImageLayer = new Layer({
        image: "images/PersonnelMenu-Background.png",
        width: 1141,
        height: 591,
        scale: 1,
        x: -4,
        y: 50
      });
      this.backgroundImageLayer.superLayer = this.mainLayer;
      this.backgroundImageLayer.placeBehind(this.headerLayer);
      this.thomasLayer = new Layer({
        image: 'images/PersonnelMenu-Thomas.png',
        width: 317,
        height: 315,
        x: 136,
        y: 190
      });
      this.thomasLayer.superLayer = this.mainLayer;
      this.lannylayer = new Layer({
        image: 'images/PersonnelMenu-Lanny.png',
        width: 317,
        height: 315,
        x: 612,
        y: 190
      });
      this.lannylayer.superLayer = this.mainLayer;
    }

    ScreenPersonnel_1067x584.prototype.init = function() {
      ScreenPersonnel_1067x584.__super__.init.apply(this, arguments);
      this.backgroundImageLayer.states.add({
        hidden: {
          y: this.mainLayer.height + 5
        },
        shown: {
          y: 50
        }
      });
      ClickEffect.addTo(this.backButtonLayer);
      this.backButtonLayer.on(Events.Click, this.onBackButtonClicked);
      ClickEffect.addTo(this.thomasLayer);
      ClickEffect.addTo(this.lannylayer);
      this.headerLayer.states.add({
        top_outside: {
          y: -this.headerLayer.height * -1 - 5
        },
        on_top: {
          y: this.parent_screen.topBarLayer.height - 1
        }
      });
      this.headerLayer.states.switchInstant("top_outside");
      this.thomasLayer.states.add({
        hidden: {
          x: -this.thomasLayer.width
        },
        shown: {
          x: 136
        }
      });
      this.lannylayer.states.add({
        hidden: {
          x: this.mainLayer.width + 5
        },
        shown: {
          x: 612
        }
      });
      this.thomasLayer.states.switchInstant("hidden");
      this.lannylayer.states.switchInstant("hidden");
      this.backgroundImageLayer.states.switchInstant("hidden");
      this.thomasLayer.on(Events.Click, this.onThomasLayerClicked);
      return this.lannylayer.on(Events.Click, this.onLannyLayerClicked);
    };

    ScreenPersonnel_1067x584.prototype.onThomasLayerClicked = function() {
      this.hideAllLayers();
      if (this.delegate) {
        return this.delegate.afterThomasLayerClicked();
      }
    };

    ScreenPersonnel_1067x584.prototype.onLannyLayerClicked = function() {};

    ScreenPersonnel_1067x584.prototype.play = function() {
      this.show();
      this.backgroundImageLayer.states["switch"]("shown");
      this.headerLayer.states["switch"]("on_top");
      this.thomasLayer.states["switch"]("shown");
      return this.lannylayer.states["switch"]("shown");
    };

    ScreenPersonnel_1067x584.prototype.hideAllLayers = function() {
      this.backgroundImageLayer.states["switch"]("hidden");
      this.headerLayer.states["switch"]("top_outside");
      this.thomasLayer.states["switch"]("hidden");
      return this.lannylayer.states["switch"]("hidden");
    };

    return ScreenPersonnel_1067x584;

  })(ScreenBase);

  module.exports = ScreenPersonnel_1067x584;

}).call(this);
