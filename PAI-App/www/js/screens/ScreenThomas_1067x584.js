// Generated by CoffeeScript 1.9.2
(function() {
  var ClickEffect, ScreenBase, ScreenThomas_1067x584,
    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  ScreenBase = require("./ScreenBase_1067x584");

  ClickEffect = require("./ClickEffect");

  ScreenThomas_1067x584 = (function(superClass) {
    extend(ScreenThomas_1067x584, superClass);

    function ScreenThomas_1067x584(options) {
      this.hideAllLayers = bind(this.hideAllLayers, this);
      this.play = bind(this.play, this);
      this.init = bind(this.init, this);
      ScreenThomas_1067x584.__super__.constructor.apply(this, arguments);
      this.parent_screen = options.parent_screen || {};
      this.afterBackButtonClicked = null;
      if (this.parent_screen) {
        this.mainLayer.superLayer = this.parent_screen.mainLayer;
        this.mainLayer.placeBehind(this.parent_screen.topBarLayer);
      }
      this.mainLayer.backgroundColor = 'white';
      this.headerLayer = new Layer({
        image: 'images/Thomas-Header.png',
        x: 0,
        y: this.parent_screen.topBarLayer.height - 1,
        width: this.width + 1,
        height: 40
      });
      this.headerLayer.superLayer = this.mainLayer;
      this.headerLayer.centerX();
      this.backButtonLayer = new Layer({
        image: 'images/ProfileMenu-Back.png',
        x: 19,
        y: 7,
        width: 45,
        height: 20
      });
      this.backButtonLayer.superLayer = this.headerLayer;
      this.backgroundImageLayer = new Layer({
        image: "images/Thomas-Background.png",
        width: 1141,
        height: 591,
        scale: 1,
        x: -4,
        y: 50
      });
      this.backgroundImageLayer.superLayer = this.mainLayer;
      this.backgroundImageLayer.placeBehind(this.headerLayer);
    }

    ScreenThomas_1067x584.prototype.init = function() {
      ScreenThomas_1067x584.__super__.init.apply(this, arguments);
      this.headerLayer.states.add({
        top_outside: {
          y: -this.headerLayer.height * -1 - 5
        },
        on_top: {
          y: this.parent_screen.topBarLayer.height - 1
        }
      });
      this.headerLayer.states.switchInstant("top_outside");
      ClickEffect.addTo(this.backButtonLayer);
      this.backButtonLayer.on(Events.Click, this.onBackButtonClicked);
      this.backgroundImageLayer.states.add({
        hidden: {
          x: -this.backgroundImageLayer.width
        },
        shown: {
          x: 0
        },
        right: {
          x: this.mainLayer.width + 5
        }
      });
      return this.backgroundImageLayer.states.switchInstant("hidden");
    };

    ScreenThomas_1067x584.prototype.play = function() {
      this.show();
      this.headerLayer.states["switch"]("on_top");
      return this.backgroundImageLayer.states["switch"]("shown");
    };

    ScreenThomas_1067x584.prototype.hideAllLayers = function() {
      this.headerLayer.states["switch"]("top_outside");
      return this.backgroundImageLayer.states["switch"]("right");
    };

    return ScreenThomas_1067x584;

  })(ScreenBase);

  module.exports = ScreenThomas_1067x584;

}).call(this);
